{"version":3,"sources":["svg.js","svg.element.js","svg.animate.js","svg.circle.js","svg.group.js","svg.line.js","svg.polyline.js","svg.rectangle.js","svg.set.js","svg.text.js","svg.tspan.js","mvc.js","mvc.application.js","mvc.view.js","scalear.js","scalear.application.js","scalear.box.js","scalear.instruments.js","scalear.neck.js","scalear.scales.js","scalear.select.js","scalear.selectTwoLevel.js","scalear.switch.js"],"names":["Svg","NS","get","selector","document","querySelector","Element","parent","params","self","this","className","Object","keys","forEach","key","render","prototype",{"end":{"file":"?","comments_before":[],"nlb":false,"endpos":496,"pos":487,"col":5,"line":27,"value":"className","type":"name"},"start":{"file":"?","comments_before":[],"nlb":false,"endpos":496,"pos":487,"col":5,"line":27,"value":"className","type":"name"},"name":"className"},"_el","getAttribute","name","setAttribute","el","remove","parentNode","removeChild","show","style","display","hide","addClass","hasClass","indexOf","removeClass","replace","showWithOpacity","opacity","hideWithOpacity","element","createElementNS","map","children","child","charAt","toUpperCase","slice","undefined","appendChild","Animate","call","create","Circle","r","radius","cx","x","cy","y","Group","Line","PolyLine","points","point","join","Rectangle","Set","Text","Tspan","Mvc","Application","model","_model","set","observe","changes","modelUpdate","route","location","hash","split","shift","pop","window","run","addEventListener","onload","removeEventListener","onBoot","bind","onRouteChange","documentElement","classList","fullscreenEnabled","showFullScreen","requestFullscreen","hideFullScreen","exitFullscreen","View","defineProperty","on","eventName","fn","Scalear","version","defaults","highlighted","fretCount","rootNote","scale","namesVisible","instrument","neckType","notes","intervals","freeze","instruments","scales","JSON","parse","localStorage","createUi","setDefaults","setModels","registerHandlers","neckView","Neck","scaleBox","Box","scaleSelect","SelectTwoLevel","rootSelect","Select","instrumentSelect","neckSelect","Switch","q","innerHTML","value","body","title","scalesGrouped","instrumentsGrouped","parseInt","checked","e","keyCode","Math","min","max","print","applicationCache","change","object","_prepareHashString","stringify","text","toLowerCase","item","note","length","filter","id","svgParent","_parentEl","changeName","showScale","scaleId","_mainGroup","transform","index","textContent","x1","x2","y1","y2","content","hasSharp","noteName","dy","items","querySelectorAll","i","group","tunning","options","stringsCount","neckWidth","stringDistance","fretWidth","round","neckHeight","writable","_highlightNotes","labels","beginElement","_showScale","_render","width","height","fill","_renderGroups","_mapNotes","shading","frets","marks","strings","fingers","attributeType","attributeName","from","to","dur","begin","_renderShading","_renderMarks","_renderFrets","_renderStrings","_renderFingers","_renderLabels","fret","notesMap","Map","labelsMap","notesMapItem","string","has","push","_fingers","_labels","_notesMap","_labelsMap","parentEl","correction","fretArray","noteNumber","Array","showAllNotes","_clear","finger","defaultValue","propertyName","_selector","_defaultValue","_propertyName","option","createElement","apply","arguments","optgroupElement","optgroup","label","event","CustomEvent","dispatchEvent","removeAttribute","s","o","g","a","m","GoogleAnalyticsObject","l","Date","getElementsByTagName","async","src","insertBefore","ga"],"mappings":"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","file":"script.min.js","sourcesContent":["var Svg = {\r\n\r\n\tNS: 'http://www.w3.org/2000/svg',\r\n\r\n\tget: function(selector) {\r\n\t\treturn document.querySelector(selector);\r\n\t}\r\n};","Svg.Element = function(parent, params) {\r\n\tvar self = this;\r\n\r\n\tif (parent) {\r\n\t\tparams = params || {};\r\n\t\tthis.parent = parent;\r\n\t\tparams['class'] = params.className;\r\n\t\tdelete params.className;\r\n\t\tObject.keys(params).forEach(function(key) {\r\n\t\t\tself[key] = params[key];\r\n\t\t});\r\n\t\tthis.params = params;\r\n\t\tthis.render();\r\n\t}\r\n\treturn this;\r\n};\r\n\r\nSvg.Element.prototype = {\r\n\tget className() {\r\n\t\treturn this._el.getAttribute('class') || '';\r\n\t},\r\n\tset className(name) {\r\n\t\treturn this._el.setAttribute('class', name);\r\n\t},\r\n\r\n\tget el() {\r\n\t\treturn this._el;\r\n\t},\r\n\r\n\tremove: function() {\r\n\t\tthis.el.parentNode.removeChild(this.el);\r\n\t},\r\n\r\n\tshow: function() {\r\n\t\tthis._el.style.display = 'block';\r\n\t\treturn this;\r\n\t},\r\n\r\n\thide: function() {\r\n\t\tthis._el.style.display = 'none';\r\n\t\treturn this;\r\n\t},\r\n\r\n\taddClass: function(className) {\r\n\t\tthis.className = this.className + ' ' + className;\r\n\t\treturn this;\r\n\t},\r\n\r\n\thasClass: function(className) {\r\n\t\treturn this.className.indexOf(className) > -1;\r\n\t},\r\n\r\n\tremoveClass: function(className) {\r\n\t\tthis.className = this.className.replace(className);\r\n\t},\r\n\r\n\tshowWithOpacity: function() {\r\n\t\tthis._el.style.opacity = 1;\r\n\t},\r\n\r\n\thideWithOpacity: function() {\r\n\t\tthis._el.style.opacity = 0;\r\n\t},\r\n\r\n\trender: function() {\r\n\t\tvar self = this,\r\n\t\t\telement = document.createElementNS(Svg.NS, this.name);\r\n\r\n\t\tObject.keys(this.params).map(function(key) {\r\n\t\t\tswitch (key) {\r\n\t\t\t\tcase 'id':\r\n\t\t\t\tcase 'textContent':\r\n\t\t\t\t\telement[key] = self[key];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'children':\r\n\t\t\t\t\tself.children.forEach(function(child) {\r\n\t\t\t\t\t\tvar name = child.name.charAt(0).toUpperCase() + child.name.slice(1);\r\n\t\t\t\t\t\tnew Svg[name](element, child);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tif (self[key] !== undefined) {\r\n\t\t\t\t\t\telement.setAttribute(key, self[key]);\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.parent.appendChild(element);\r\n\t\tthis._el = element;\r\n\r\n\t\treturn this;\r\n\t}\r\n};","Svg.Animate = function(parent, params) {\r\n\treturn Svg.Element.call(this, parent, params);\r\n};\r\n\r\nSvg.Animate.prototype = Object.create(Svg.Element.prototype);\r\n\r\nSvg.Animate.prototype.name = 'animate';","Svg.Circle = function(parent, params) {\r\n\tparams.r = params.radius;\r\n\tparams.cx = params.x;\r\n\tparams.cy = params.y;\r\n\r\n\tdelete params.radius;\r\n\tdelete params.x;\r\n\tdelete params.y;\r\n\r\n\treturn Svg.Element.call(this, parent, params);\r\n};\r\n\r\nSvg.Circle.prototype = Object.create(Svg.Element.prototype);\r\n\r\nSvg.Circle.prototype.name = 'circle';","Svg.Group = function(parent, params) {\r\n\treturn Svg.Element.call(this, parent, params);\r\n};\r\n\r\nSvg.Group.prototype = Object.create(Svg.Element.prototype);\r\n\r\nSvg.Group.prototype.name = 'g';","Svg.Line = function(parent, params) {\r\n\treturn Svg.Element.call(this, parent, params);\r\n};\r\n\r\nSvg.Line.prototype = Object.create(Svg.Element.prototype);\r\n\r\nSvg.Line.prototype.name = 'line';","Svg.PolyLine = function(parent, params) {\r\n\tvar points = params.points.map(function(point) {\r\n\t\treturn point.join(',');\r\n\t});\r\n\tparams.points = points.join(' ');\r\n\treturn Svg.Element.call(this, parent, params);\r\n};\r\n\r\nSvg.PolyLine.prototype = Object.create(Svg.Element.prototype);\r\n\r\nSvg.PolyLine.prototype.name = 'polyline';","Svg.Rectangle = function(parent, params) {\r\n\treturn Svg.Element.call(this, parent, params);\r\n};\r\n\r\nSvg.Rectangle.prototype = Object.create(Svg.Element.prototype);\r\n\r\nSvg.Rectangle.prototype.name = 'rect';","Svg.Set = function(parent, params) {\r\n\treturn Svg.Element.call(this, parent, params);\r\n};\r\n\r\nSvg.Set.prototype = Object.create(Svg.Element.prototype);\r\n\r\nSvg.Set.prototype.name = 'set';","Svg.Text = function(parent, params) {\r\n\treturn Svg.Element.call(this, parent, params);\r\n};\r\n\r\nSvg.Text.prototype = Object.create(Svg.Element.prototype);\r\n\r\nSvg.Text.prototype.name = 'text';","Svg.Tspan = function(parent, params) {\r\n\treturn Svg.Element.call(this, parent, params);\r\n};\r\n\r\nSvg.Tspan.prototype = Object.create(Svg.Element.prototype);\r\n\r\nSvg.Tspan.prototype.name = 'tspan';","var Mvc = {};","Mvc.Application = function() {};\r\n\r\nMvc.Application.prototype = Object.create({}, {\r\n\tmodel: {\r\n\t\tget: function() {\r\n\t\t\treturn this._model;\r\n\t\t},\r\n\t\tset: function(model) {\r\n\t\t\tvar self = this;\r\n\r\n\t\t\tthis._model = model;\r\n\t\t\tObject.observe(this._model, function(changes) {\r\n\t\t\t\tself.modelUpdate(self._model, changes);\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\troute: {\r\n\t\tget: function() {\r\n\t\t\tvar params = (location.hash.slice(1) || '/').split('/');\r\n\r\n\t\t\tparams.shift();\r\n\t\t\tparams.pop();\r\n\t\t\treturn params || [];\r\n\t\t},\r\n\t\tset: function(route) {\r\n\t\t\twindow.location.hash = route;\r\n\t\t}\r\n\t}\r\n});\r\n\r\nMvc.Application.prototype.run = function() {\r\n\twindow.addEventListener('load', function onload() {\r\n\t\twindow.removeEventListener(\"load\", onload, false);\r\n\t\tthis.onBoot.call(this);\r\n\t}.bind(this));\r\n\r\n\twindow.addEventListener('hashchange', function() {\r\n\t\tthis.onRouteChange(this.route);\r\n\t}.bind(this));\r\n\r\n\tdocument.addEventListener(\"fullscreenchange\", function(event) {\r\n\t\tdocument.documentElement.classList[document.fullscreenEnabled ? 'add' : 'remove'](\"fullscreen\");\r\n\t});\r\n};\r\n\r\nMvc.Application.prototype.showFullScreen = function() {\r\n\tdocument.documentElement.requestFullscreen();\r\n};\r\n\r\nMvc.Application.prototype.hideFullScreen = function() {\r\n\tdocument.exitFullscreen();\r\n};\r\n\r\n/* start-debug-only */\r\nMvc.Application.prototype.onRouteChange = function() {\r\n\tconsole.warn('Virtual method \"boot\", has to be implemented.');\r\n};\r\n\r\nMvc.Application.prototype.onBoot = function() {\r\n\tconsole.warn('Virtual method \"boot\", has to be implemented.');\r\n};\r\n\r\nMvc.Application.prototype.modelUpdate = function() {\r\n\tconsole.warn('Virtual method \"modelUpdate\", has to be implemented.');\r\n};\r\n/* end-debug-only*/","Mvc.View = function() {\r\n\treturn this;\r\n};\r\n\r\nMvc.View.prototype = {};\r\n\r\nObject.defineProperty(Mvc.View.prototype, 'model', {\r\n\tget: function() {\r\n\t\treturn this._model;\r\n\t},\r\n\tset: function(model) {\r\n\t\tvar self = this;\r\n\r\n\t\tthis._model = model;\r\n\t\tObject.observe(this._model, function(changes) {\r\n\t\t\tself.modelUpdate(self._model, changes);\r\n\t\t});\r\n\t\tthis.modelUpdate(self._model);\r\n\t}\r\n});\r\n\r\nMvc.View.prototype.on = function(eventName, fn) {\r\n\tthis._el.addEventListener(eventName, fn);\r\n};\r\n\r\n/* start-debug-only */\r\nMvc.View.prototype.render = function() {\r\n\tconsole.warn('Virtual method \"render\", has to be implemented.');\r\n};\r\n\r\nMvc.View.prototype.modelUpdate = function() {\r\n\tconsole.warn('Virtual method \"modelUpdate\", has to be implemented.');\r\n};\r\n/* end-debug-only*/","var Scalear = {\r\n\tversion: '0.4.11',\r\n\tdefaults: {\r\n\t\thighlighted: undefined,\r\n\t\tfretCount: 12,\r\n\t\trootNote: 0,\r\n\t\tscale: 0,\r\n\t\tnamesVisible: true,\r\n\t\tinstrument: 0,\r\n\t\tneckType: 'gibson'\r\n\t},\r\n\tnotes: [\r\n\t\t'C', //0\r\n\t\t'C♯', //1\r\n\t\t'D', //2\r\n\t\t'D♯', //3\r\n\t\t'E', //4\r\n\t\t'F', //5\r\n\t\t'F♯', //6\r\n\t\t'G', //7\r\n\t\t'G♯', //8\r\n\t\t'A', //9\r\n\t\t'A♯', //10\r\n\t\t'B' //11\r\n\t],\r\n\r\n\tintervals: [\r\n\t\t'1', //0\r\n\t\t'2♭', //1\r\n\t\t'2♯', //2\r\n\t\t'3♭', //3\r\n\t\t'3♯', //4\r\n\t\t'4', //5\r\n\t\t'4♯', //6\r\n\t\t'5', //7\r\n\t\t'6♭', //8\r\n\t\t'6♯', //9\r\n\t\t'7♭', //10\r\n\t\t'7♯', //11\r\n\t\t'8', //12\r\n\t],\r\n\r\n};","Scalear.Application = function() {\r\n\tObject.freeze(Scalear.notes);\r\n\tObject.freeze(Scalear.intervals);\r\n\tObject.freeze(Scalear.instruments);\r\n\tObject.freeze(Scalear.scales);\r\n\r\n\tthis.run();\r\n\treturn Mvc.Application.call(this);\r\n};\r\n\r\nScalear.Application.prototype = Object.create(Mvc.Application.prototype);\r\n\r\nScalear.Application.prototype.name = 'Scalear ' + Scalear.version;\r\n\r\nScalear.Application.prototype.onBoot = function() {\r\n\tvar defaults = JSON.parse(localStorage.defaults || '{}');\r\n\r\n\tObject.keys(Scalear.defaults).forEach(function(key) {\r\n\t\tif (defaults[key] === undefined) {\r\n\t\t\tdefaults[key] = Scalear.defaults[key];\r\n\t\t}\r\n\t});\r\n\tthis.model = defaults;\r\n\tthis.onRouteChange(this.route);\r\n\tthis.createUi();\r\n\tthis.setDefaults();\r\n\tthis.setModels();\r\n\tthis.registerHandlers();\r\n};\r\n\r\nScalear.Application.prototype.createUi = function() {\r\n\tthis.neckView = new Scalear.Neck(Svg.get('svg'));\r\n\tthis.scaleBox = new Scalear.Box(Svg.get('svg'));\r\n\tthis.scaleSelect = new Scalear.SelectTwoLevel('#scale-selector', this.model.scale, 'name');\r\n\tthis.rootSelect = new Scalear.Select('#root-selector', this.model.rootNote);\r\n\tthis.instrumentSelect = new Scalear.SelectTwoLevel('#instrument-selector', this.model.instrument, 'name');\r\n\tthis.neckSelect = new Scalear.Switch('#necktype .two-values-switch', this.model.neckType);\r\n};\r\n\r\nScalear.Application.prototype.setDefaults = function() {\r\n\tq('#name').innerHTML = Scalear.scales[this.model.scale].name;\r\n\tq('#root').innerHTML = Scalear.notes[this.model.rootNote];\r\n\tq('#frets-count').value = this.model.fretCount;\r\n\tq('footer').className = '';\r\n\tq('header').className = '';\r\n\tq('svg').setAttribute('class', '');\r\n\tdocument.body.classList[this.model.neckType === 'fender' ? 'add' : 'remove']('dark');\r\n\tdocument.title = Scalear.notes[this.model.rootNote] + ' ' + Scalear.scales[this.model.scale].name + ' (' + this.name + ')';\r\n\tif (this.model.namesVisible) {\r\n\t\tq('#note-names').setAttribute('checked', 'checked');\r\n\t}\r\n};\r\n\r\nScalear.Application.prototype.setModels = function() {\r\n\tthis.neckSelect.model = this.model;\r\n\tthis.neckView.model = this.model;\r\n\tthis.scaleBox.model = this.model;\r\n\tthis.rootSelect.model = Scalear.notes;\r\n\tthis.scaleSelect.model = Scalear.scalesGrouped;\r\n\tthis.instrumentSelect.model = Scalear.instrumentsGrouped;\r\n};\r\n\r\nScalear.Application.prototype.registerHandlers = function() {\r\n\tvar self = this;\r\n\r\n\tthis.neckSelect.on('change', function() {\r\n\t\tself.model.neckType = this.value;\r\n\t});\r\n\tthis.scaleSelect.on('change', function() {\r\n\t\tself.model.scale = parseInt(this.value, 10);\r\n\t});\r\n\tthis.rootSelect.on('change', function() {\r\n\t\tself.model.rootNote = parseInt(this.value, 10);\r\n\t});\r\n\tthis.instrumentSelect.on('change', function() {\r\n\t\tself.model.instrument = parseInt(this.value, 10);\r\n\t});\r\n\tq('#note-names').addEventListener('change', function() {\r\n\t\tself.model.namesVisible = this.checked;\r\n\t});\r\n\tq('#note-names').addEventListener('keydown', function(e) {\r\n\t\tif (e.keyCode === 13) {\r\n\t\t\tself.model.namesVisible = !self.model.namesVisible;\r\n\t\t\tthis.checked = self.model.namesVisible;\r\n\t\t}\r\n\t});\r\n\tq('#frets-count').addEventListener('change', function() {\r\n\t\tvar fretCount = parseInt(this.value, 10) || 12;\r\n\r\n\t\tfretCount = Math.min(fretCount, 25);\r\n\t\tfretCount = Math.max(fretCount, 10);\r\n\t\tif (fretCount !== this.value) {\r\n\t\t\tthis.value = fretCount;\r\n\t\t}\r\n\t\tself.model.fretCount = fretCount;\r\n\t});\r\n\tq('#info').addEventListener('click', function(e) {\r\n\t\tthis.hideFullScreen();\r\n\t}.bind(this));\r\n\tq('#fullscreen').addEventListener('click', function(e) {\r\n\t\tthis.showFullScreen();\r\n\t}.bind(this));\r\n\tq('#fullscreen').addEventListener('keydown', function(e) {\r\n\t\tif (e.keyCode === 13) {\r\n\t\t\tthis.showFullScreen();\r\n\t\t}\r\n\t}.bind(this));\r\n\r\n\tq('#print').addEventListener('click', function(e) {\r\n\t\twindow.print();\r\n\t}.bind(this));\r\n\tq('#print').addEventListener('keydown', function(e) {\r\n\t\tif (e.keyCode === 13) {\r\n\t\t\twindow.print();\r\n\t\t}\r\n\t}.bind(this));\r\n\r\n\tapplicationCache.addEventListener('updateready', function() {\r\n\t\tq('#version-info').style.display = 'block';\r\n\t}, false);\r\n};\r\n\r\nScalear.Application.prototype.modelUpdate = function(model, changes) {\r\n\tchanges.forEach(function(change) {\r\n\t\tswitch (change.name) {\r\n\t\t\tcase 'rootNote':\r\n\t\t\t\tq('#root').innerHTML = Scalear.notes[change.object.rootNote];\r\n\t\t\t\tdocument.title = Scalear.notes[this.model.rootNote] + ' ' + Scalear.scales[this.model.scale].name + ' (' + this.name + ')';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'scale':\r\n\t\t\t\tq('#name').innerHTML = Scalear.scales[change.object.scale].name;\r\n\t\t\t\tdocument.title = Scalear.notes[this.model.rootNote] + ' ' + Scalear.scales[this.model.scale].name + ' (' + this.name + ')';\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'neckType':\r\n\t\t\t\tdocument.body.classList[this.model.neckType === 'fender' ? 'add' : 'remove']('dark');\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}.bind(this));\r\n\tthis.route = this._prepareHashString(['',\r\n\t\tScalear.instruments[model.instrument].name,\r\n\t\tScalear.scales[model.scale].name,\r\n\t\tScalear.notes[model.rootNote],\r\n\t\t''\r\n\t].join('/'));\r\n\r\n\tlocalStorage.defaults = JSON.stringify(this.model);\r\n};\r\n\r\nScalear.Application.prototype._prepareHashString = function(text) {\r\n\treturn text.toLowerCase().replace(/ /g, '-').replace(/[ \\(\\)]/g, '').replace(/♯/g, '#');\r\n};\r\n\r\nScalear.Application.prototype.onRouteChange = function(params) {\r\n\tvar item, note;\r\n\r\n\tif (params.length > 0) {\r\n\t\tif (params[2]) {\r\n\t\t\tfor (note = 0; note < Scalear.notes.length; note++) {\r\n\t\t\t\titem = Scalear.notes[note];\r\n\t\t\t\tif (this._prepareHashString(item) === params[2]) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.model.rootNote = note;\r\n\t\t}\r\n\t\tif (params[0]) {\r\n\t\t\tthis.model.instrument = Scalear.instruments.filter(function(item) {\r\n\t\t\t\treturn this._prepareHashString(item.name) === params[0];\r\n\t\t\t}.bind(this))[0].id;\r\n\t\t}\r\n\t\tif (params[1]) {\r\n\t\t\tthis.model.scale = scale = Scalear.scales.filter(function(item) {\r\n\t\t\t\treturn this._prepareHashString(item.name) === params[1];\r\n\t\t\t}.bind(this))[0].id;\r\n\t\t}\r\n\t}\r\n};","Scalear.Box = function(svgParent) {\r\n\tthis._parentEl = svgParent;\r\n\treturn Mvc.View.call(this);\r\n};\r\n\r\nScalear.Box.prototype = Object.create(Mvc.View.prototype);\r\n\r\nScalear.Box.prototype.modelUpdate = function(model, changes) {\r\n\tvar changeName = changes ? changes[0].name : 'scale';\r\n\r\n\tswitch (changeName) {\r\n\t\tcase 'highlighted':\r\n\t\tcase 'rootNote':\r\n\t\tcase 'scale':\r\n\t\t\tthis.showScale(model.scale, model.rootNote);\r\n\t\t\tbreak;\r\n\t}\r\n};\r\n\r\nScalear.Box.prototype.showScale = function(scaleId, rootNote) {\r\n\tif (this._mainGroup) {\r\n\t\tthis._mainGroup.remove();\r\n\t}\r\n\r\n\tvar self = this,\r\n\t\tscale = Scalear.scales[scaleId].notes.slice().map(function(item) {\r\n\t\t\treturn (item + rootNote) % Scalear.notes.length;\r\n\t\t});\r\n\r\n\tthis._mainGroup = new Svg.Group(this._parentEl, {\r\n\t\tid: 'scale-box',\r\n\t\ttransform: 'translate(' + (250 - (-50 + scale.length * 28) / 2) + ',120)'\r\n\t});\r\n\r\n\tscale.forEach(function(item, index) {\r\n\t\tif (index < scale.length - 1) {\r\n\r\n\t\t\tnew Svg.Text(self._mainGroup.el, {\r\n\t\t\t\tx: 26 + 30 * index,\r\n\t\t\t\ty: 50,\r\n\t\t\t\tclassName: 'interval',\r\n\t\t\t\ttextContent: Scalear.intervals[Scalear.scales[scaleId].notes[index + 1] - Scalear.scales[scaleId].notes[index]]\r\n\t\t\t});\r\n\r\n\t\t\tnew Svg.Line(self._mainGroup.el, {\r\n\t\t\t\tx1: 25 + 30 * index,\r\n\t\t\t\tx2: 35 + 30 * index,\r\n\t\t\t\ty1: 59,\r\n\t\t\t\ty2: 59\r\n\t\t\t});\r\n\t\t\tnew Svg.PolyLine(self._mainGroup.el, {\r\n\t\t\t\tpoints: [\r\n\t\t\t\t\t[16 + 30 * index, 52],\r\n\t\t\t\t\t[16 + 30 * index, 47],\r\n\t\t\t\t\t[23 + 30 * index, 47]\r\n\t\t\t\t]\r\n\t\t\t});\r\n\r\n\t\t\tnew Svg.PolyLine(self._mainGroup.el, {\r\n\t\t\t\tpoints: [\r\n\t\t\t\t\t[37 + 30 * index, 47],\r\n\t\t\t\t\t[44 + 30 * index, 47],\r\n\t\t\t\t\t[44 + 30 * index, 52],\r\n\t\t\t\t]\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tvar content = Scalear.notes[item];\r\n\t\tvar hasSharp = content.length > 1;\r\n\r\n\t\tvar noteName = new Svg.Text(self._mainGroup.el, {\r\n\t\t\tx: 10 + 30 * index,\r\n\t\t\ty: 65,\r\n\t\t\tnote: item,\r\n\t\t\tclassName: index === 0 ? 'root' : undefined,\r\n\t\t\ttextContent: content.replace('♯', ''),\r\n\t\t\tchildren: [{\r\n\t\t\t\tname: 'tspan',\r\n\t\t\t\tdy: -7,\r\n\t\t\t\ttextContent: hasSharp ? '♯' : ''\r\n\t\t\t}]\r\n\t\t});\r\n\t\tif (this.model.highlighted !== undefined && this.model.highlighted === item) {\r\n\t\t\tnoteName.addClass('highlighted');\r\n\t\t}\r\n\r\n\t\tnoteName.el.addEventListener('click', function() {\r\n\t\t\tif (noteName.hasClass('highlighted')) {\r\n\t\t\t\tnoteName.removeClass('highlighted');\r\n\t\t\t\tthis.model.highlighted = undefined;\r\n\t\t\t} else {\r\n\t\t\t\tvar items = document.querySelectorAll('#scale-box text.highlighted');\r\n\t\t\t\tfor (var i = 0; i < items.length; i++) {\r\n\t\t\t\t\tvar item = items[i];\r\n\t\t\t\t\titem.setAttribute('class', item.getAttribute('class').replace('highlighted', '') || '');\r\n\t\t\t\t}\r\n\t\t\t\tnoteName.addClass('highlighted');\r\n\t\t\t\tthis.model.highlighted = parseInt(noteName.el.getAttribute('note'), 10);\r\n\t\t\t}\r\n\t\t}.bind(this), false);\r\n\t\tnew Svg.Text(self._mainGroup.el, {\r\n\t\t\tx: 13 + 30 * index,\r\n\t\t\ty: 75,\r\n\t\t\tclassName: 'interval',\r\n\t\t\ttextContent: Scalear.intervals[Scalear.scales[scaleId].notes[index]]\r\n\t\t});\r\n\t}.bind(this));\r\n\r\n};","Scalear.instruments = [{\r\n\tid: 0,\r\n\tname: 'Standard (Guitar)',\r\n\tgroup: 'guitar',\r\n\ttunning: [4, 11, 7, 2, 9, 4]\r\n}, {\r\n\tid: 1,\r\n\tname: '7-string (Guitar)',\r\n\tgroup: 'guitar',\r\n\ttunning: [4, 11, 7, 2, 9, 4, 11]\r\n}, {\r\n\tid: 2,\r\n\tname: 'Open D (Guitar)',\r\n\tgroup: 'guitar',\r\n\ttunning: [2, 9, 2, 6, 9, 2]\r\n}, {\r\n\tid: 3,\r\n\tname: 'Open C (Guitar)',\r\n\tgroup: 'guitar',\r\n\ttunning: [0, 4, 7, 0, 4, 7]\r\n}, {\r\n\tid: 4,\r\n\tname: 'Open G (Guitar)',\r\n\tgroup: 'guitar',\r\n\ttunning: [2, 7, 2, 7, 11, 2]\r\n}, {\r\n\tid: 5,\r\n\tgroup: 'bass',\r\n\tname: 'Standard (Bass)',\r\n\ttunning: [7, 2, 9, 4]\r\n}, {\r\n\tid: 6,\r\n\tgroup: 'bass',\r\n\tname: 'Fretless (Bass)',\r\n\ttunning: [7, 2, 9, 4]\r\n}, {\r\n\tid: 7,\r\n\tgroup: 'bass',\r\n\tname: '5-string (Bass)',\r\n\ttunning: [7, 2, 9, 4, 11]\r\n}, {\r\n\tid: 8,\r\n\tgroup: 'bass',\r\n\tname: '6-string (Bass)',\r\n\ttunning: [0, 7, 2, 9, 4, 11]\r\n}, {\r\n\tid: 9,\r\n\tgroup: 'ukulele',\r\n\tname: 'Ukulele GCEA',\r\n\ttunning: [9, 4, 0, 7]\r\n}, {\r\n\tid: 10,\r\n\tgroup: 'ukulele',\r\n\tname: 'Ukulele DGBE',\r\n\ttunning: [4, 11, 7, 2]\r\n}, {\r\n\tid: 11,\r\n\tgroup: 'ukulele',\r\n\tname: 'Ukulele ADG♭B',\r\n\ttunning: [11, 6, 2, 9]\r\n}, {\r\n\tid: 12,\r\n\tgroup: 'other',\r\n\tname: 'Violin',\r\n\ttunning: [4, 9, 2, 7]\r\n}];\r\n\r\nScalear.instrumentsGrouped = [{\r\n\tname: 'Guitar',\r\n\tgroup: 'guitar',\r\n\toptions: function() {\r\n\t\treturn Scalear.instruments.filter(function(item) {\r\n\t\t\treturn item.group === 'guitar' ? item : undefined;\r\n\t\t});\r\n\r\n\t}()\r\n}, {\r\n\tname: 'Bass',\r\n\tgroup: 'bass',\r\n\toptions: function() {\r\n\t\treturn Scalear.instruments.filter(function(item) {\r\n\t\t\treturn item.group === 'bass' ? item : undefined;\r\n\t\t});\r\n\r\n\t}()\r\n}, {\r\n\tname: 'Ukulele',\r\n\tgroup: 'ukulele',\r\n\toptions: function() {\r\n\t\treturn Scalear.instruments.filter(function(item) {\r\n\t\t\treturn item.group === 'ukulele' ? item : undefined;\r\n\t\t});\r\n\r\n\t}()\r\n}, {\r\n\tname: 'Other',\r\n\tgroup: 'other',\r\n\toptions: function() {\r\n\t\treturn Scalear.instruments.filter(function(item) {\r\n\t\t\treturn item.group === 'other' ? item : undefined;\r\n\t\t});\r\n\r\n\t}()\r\n}];","Scalear.Neck = function(svgParent) {\r\n\tthis._parentEl = svgParent;\r\n\treturn Mvc.View.call(this);\r\n};\r\n\r\nScalear.Neck.prototype = Object.create(Mvc.View.prototype, {\r\n\ttunning: {\r\n\t\tget: function() {\r\n\t\t\treturn Scalear.instruments[this.instrument].tunning;\r\n\t\t}\r\n\t},\r\n\tstringsCount: {\r\n\t\tget: function() {\r\n\t\t\treturn this.tunning.length;\r\n\t\t}\r\n\t},\r\n\tneckWidth: {\r\n\t\tget: function() {\r\n\t\t\treturn this.stringDistance * this.stringsCount;\r\n\t\t}\r\n\t},\r\n\tfretWidth: {\r\n\t\tget: function() {\r\n\t\t\treturn Math.round(this.neckHeight / this.fretCount);\r\n\t\t}\r\n\t},\r\n\tstringDistance: {\r\n\t\tvalue: 20\r\n\t},\r\n\tneckHeight: {\r\n\t\tvalue: 500,\r\n\t\twritable: true\r\n\t},\r\n\tfretCount: {\r\n\t\tvalue: 12,\r\n\t\twritable: true\r\n\t},\r\n\tneckType: {\r\n\t\tvalue: 'gibson',\r\n\t\twritable: true\r\n\t},\r\n\tnamesVisible: {\r\n\t\tvalue: false,\r\n\t\twritable: true\r\n\t},\r\n\trootNote: {\r\n\t\tvalue: 0,\r\n\t\twritable: true\r\n\t},\r\n\tscale: {\r\n\t\tvalue: 0,\r\n\t\twritable: true\r\n\t},\r\n\tinstrument: {\r\n\t\tvalue: 0,\r\n\t\twritable: true\r\n\t}\r\n\r\n});\r\n\r\nScalear.Neck.prototype.modelUpdate = function(model, changes) {\r\n\r\n\tvar changeName = changes ? changes[0].name : 'instrument';\r\n\r\n\tswitch (changeName) {\r\n\r\n\t\tcase 'highlighted':\r\n\t\t\tthis._highlightNotes(model.highlighted);\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'namesVisible':\r\n\t\t\tthis.labels[model.namesVisible ? 'showWithOpacity' : 'hideWithOpacity']();\r\n\t\t\tvar element = q('svg .labels animate#' + (model.namesVisible ? 'fadein' : 'fadeout'));\r\n\t\t\tif (element.beginElement) {\r\n\t\t\t\telement.beginElement();\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'rootNote':\r\n\t\tcase 'scale':\r\n\t\t\tthis.rootNote = model.rootNote;\r\n\t\t\tthis.scale = Scalear.scales[model.scale].notes.slice();\r\n\t\t\tthis._showScale();\r\n\t\t\tbreak;\r\n\r\n\t\tdefault:\r\n\t\t\tif (this._mainGroup) {\r\n\t\t\t\tthis._mainGroup.remove();\r\n\t\t\t}\r\n\r\n\t\t\tthis.fretCount = model.fretCount;\r\n\t\t\tthis.neckType = model.neckType;\r\n\t\t\tthis.namesVisible = model.namesVisible;\r\n\t\t\tthis.rootNote = model.rootNote;\r\n\t\t\tthis.scale = Scalear.scales[model.scale].notes.slice();\r\n\t\t\tthis.instrument = model.instrument;\r\n\r\n\t\t\tthis._render();\r\n\t\t\tthis._showScale();\r\n\t\t\tthis.labels[model.namesVisible ? 'showWithOpacity' : 'hideWithOpacity']();\r\n\t\t\tthis._highlightNotes(model.highlighted);\r\n\r\n\t\t\tbreak;\r\n\t}\r\n};\r\n\r\nScalear.Neck.prototype._render = function() {\r\n\tthis._mainGroup = new Svg.Group(this._parentEl, {\r\n\t\tid: 'neck',\r\n\t\tclassName: this.neckType,\r\n\t});\r\n\tnew Svg.Rectangle(this._mainGroup.el, {\r\n\t\tclassName: 'neck',\r\n\t\tx: this.fretWidth,\r\n\t\ty: 0,\r\n\t\twidth: this.fretCount * this.fretWidth,\r\n\t\theight: this.neckWidth,\r\n\t\tfill: this.neckType === 'fender' ? 'url(#gradientfender)' : 'url(#gradient)',\r\n\t\tfilter: 'url(#neckshadow)'\r\n\t});\r\n\tthis._renderGroups(this._mainGroup.el);\r\n\tthis._mapNotes();\r\n};\r\n\r\nScalear.Neck.prototype._renderGroups = function(el) {\r\n\tvar shading = new Svg.Group(el, {\r\n\t\t\tclassName: 'shading'\r\n\t\t}),\r\n\t\tfrets = new Svg.Group(el, {\r\n\t\t\tclassName: 'frets'\r\n\t\t}),\r\n\t\tmarks = new Svg.Group(el, {\r\n\t\t\tclassName: 'marks'\r\n\t\t}),\r\n\t\tstrings = new Svg.Group(el, {\r\n\t\t\tclassName: 'strings'\r\n\t\t}),\r\n\t\tfingers = new Svg.Group(el, {\r\n\t\t\tclassName: 'fingers'\r\n\t\t});\r\n\r\n\tthis.labels = new Svg.Group(el, {\r\n\t\tclassName: 'labels',\r\n\t\tchildren: [{\r\n\t\t\tname: 'animate',\r\n\t\t\tid: 'fadein',\r\n\t\t\tattributeType: 'CSS',\r\n\t\t\tattributeName: 'opacity',\r\n\t\t\tfrom: '0',\r\n\t\t\tto: '1',\r\n\t\t\tdur: '1s',\r\n\t\t\tfill: \"freeze\",\r\n\t\t\tbegin: 'indefinite'\r\n\t\t}, {\r\n\t\t\tname: 'animate',\r\n\t\t\tid: 'fadeout',\r\n\t\t\tattributeType: 'CSS',\r\n\t\t\tattributeName: 'opacity',\r\n\t\t\tfrom: '1',\r\n\t\t\tto: '0',\r\n\t\t\tdur: '1s',\r\n\t\t\tfill: \"freeze\",\r\n\t\t\tbegin: 'indefinite'\r\n\r\n\t\t}]\r\n\t});\r\n\tif (this.instrument !== 6 && this.instrument !== 12) {\r\n\t\tthis._renderShading(shading.el);\r\n\t}\r\n\tthis._renderMarks(marks.el);\r\n\tif (this.instrument !== 6 && this.instrument !== 12) {\r\n\t\tthis._renderFrets(frets.el);\r\n\t}\r\n\tthis._renderStrings(strings.el);\r\n\tthis._renderFingers(fingers.el);\r\n\tthis._renderLabels(this.labels.el);\r\n};\r\n\r\nScalear.Neck.prototype._renderShading = function(el) {\r\n\tfor (var i = 0; i < this.fretCount; i++) {\r\n\t\tnew Svg.Rectangle(el, {\r\n\t\t\tx: i * this.fretWidth + this.fretWidth,\r\n\t\t\ty: 0,\r\n\t\t\twidth: this.fretWidth,\r\n\t\t\theight: this.neckWidth,\r\n\t\t\tfill: 'url(#shading)'\r\n\t\t});\r\n\t}\r\n};\r\nScalear.Neck.prototype._renderMarks = function(el) {\r\n\t[3, 5, 7, 9, 12, 3 + 12, 5 + 12, 7 + 12, 9 + 12, 12 + 12].map(function(i) {\r\n\t\tif (i <= this.fretCount) {\r\n\t\t\tif (this.neckType === 'fender') {\r\n\t\t\t\tnew Svg.Circle(el, {\r\n\t\t\t\t\tx: (i - 1) * this.fretWidth + 1.5 * this.fretWidth,\r\n\t\t\t\t\ty: this.neckWidth / 2,\r\n\t\t\t\t\tradius: this.fretWidth / 8\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tnew Svg.Rectangle(el, {\r\n\t\t\t\t\tx: (i - 1) * this.fretWidth + 5 + this.fretWidth,\r\n\t\t\t\t\ty: 4 * 5,\r\n\t\t\t\t\theight: this.neckWidth - 8 * 5,\r\n\t\t\t\t\twidth: this.fretWidth - 2 * 5\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}, this);\r\n};\r\n\r\nScalear.Neck.prototype._renderFrets = function(el) {\r\n\tfor (var i = 0; i <= this.fretCount; i++) {\r\n\t\tnew Svg.Line(el, {\r\n\t\t\tx1: i * this.fretWidth + this.fretWidth,\r\n\t\t\tx2: i * this.fretWidth + this.fretWidth,\r\n\t\t\ty1: 0,\r\n\t\t\ty2: this.neckWidth\r\n\t\t});\r\n\t\tnew Svg.Text(el, {\r\n\t\t\tx: i * this.fretWidth - this.fretWidth + 2 * this.fretWidth - 2,\r\n\t\t\ty: this.neckWidth + 10,\r\n\t\t\ttextContent: i\r\n\t\t});\r\n\t}\r\n\tnew Svg.Line(el, {\r\n\t\tclassName: 'zero',\r\n\t\tx1: this.fretWidth - 2,\r\n\t\tx2: this.fretWidth - 2,\r\n\t\ty1: 0,\r\n\t\ty2: this.neckWidth + 0.6\r\n\t});\r\n};\r\n\r\nScalear.Neck.prototype._mapNotes = function(el) {\r\n\tvar fret, string, note,\r\n\t\tnotesMap = new Map(),\r\n\t\tlabelsMap = new Map(),\r\n\t\tnotesMapItem = [];\r\n\r\n\tthis.tunning.forEach(function(note, string) {\r\n\t\tfor (fret = 0; fret <= this.fretCount; fret++) {\r\n\r\n\t\t\tnotesMapItem = notesMap.has(note) ? notesMap.get(note) : [];\r\n\t\t\tnotesMapItem.push(this._fingers[string][fret]);\r\n\t\t\tnotesMap.set(note, notesMapItem);\r\n\r\n\t\t\tlabelsMap.set(this._fingers[string][fret], this._labels[string][fret]);\r\n\r\n\t\t\tnote++;\r\n\t\t\tnote = note % Scalear.notes.length;\r\n\t\t}\r\n\t}, this);\r\n\tthis._notesMap = notesMap;\r\n\tthis._labelsMap = labelsMap;\r\n};\r\n\r\nScalear.Neck.prototype._renderStrings = function(el) {\r\n\tthis.tunning.forEach(function(item, i) {\r\n\t\tnew Svg.Line(el, {\r\n\t\t\tx1: 0,\r\n\t\t\tx2: this.fretWidth + this.fretCount * this.fretWidth,\r\n\t\t\ty1: i * this.stringDistance + this.stringDistance / 2,\r\n\t\t\ty2: i * this.stringDistance + this.stringDistance / 2\r\n\t\t});\r\n\t}, this);\r\n};\r\n\r\nScalear.Neck.prototype._renderFingers = function(parentEl) {\r\n\tvar string, i,\r\n\t\tfingers = [];\r\n\r\n\tfor (string = 0; string < this.stringsCount; string++) {\r\n\t\tfingers.push([]);\r\n\r\n\t\tfor (i = 0; i <= this.fretCount; i++) {\r\n\t\t\tfingers[string].push(new Svg.Circle(parentEl, {\r\n\t\t\t\tx: i * this.fretWidth + this.fretWidth / 2,\r\n\t\t\t\ty: (this.stringDistance * string) + this.stringDistance / 2,\r\n\t\t\t\tradius: this.stringDistance / 3,\r\n\t\t\t\tfilter: this.instrument === 6 || this.instrument === 12 ? 'url(#fretless)' : 'url(#finger)'\r\n\t\t\t}));\r\n\t\t}\r\n\t}\r\n\tthis._fingers = fingers;\r\n};\r\n\r\nScalear.Neck.prototype._renderLabels = function(parentEl) {\r\n\tvar string, noteNumber, content, correction, fretArray,\r\n\t\thasSharp = false;\r\n\r\n\tthis._labels = this.tunning.slice().map(function(noteNumber, string) {\r\n\t\tfretArray = new Array(this.fretCount + 2).join('0').split('');\r\n\t\treturn fretArray.map(function(item, i) {\r\n\t\t\tcontent = Scalear.notes[(noteNumber + i) % Scalear.notes.length];\r\n\t\t\tcorrection = content.length > 1 ? 1 : 0;\r\n\t\t\thasSharp = content.length > 1;\r\n\r\n\t\t\treturn new Svg.Text(parentEl, {\r\n\t\t\t\tx: i * this.fretWidth + (this.fretWidth / 2) - 2 - correction,\r\n\t\t\t\ty: this.stringDistance * string + (this.stringDistance / 2) + 3,\r\n\t\t\t\ttextContent: content.replace('♯', ''),\r\n\t\t\t\tchildren: [{\r\n\t\t\t\t\tname: 'tspan',\r\n\t\t\t\t\tdy: -2,\r\n\t\t\t\t\ttextContent: hasSharp ? '♯' : ''\r\n\t\t\t\t}]\r\n\t\t\t});\r\n\t\t}, this);\r\n\t}, this);\r\n};\r\n\r\nScalear.Neck.prototype.showAllNotes = function(note) {\r\n\tthis._notesMap.get(note).forEach(function(item) {\r\n\t\titem.show();\r\n\t\tthis._labelsMap.get(item).show();\r\n\t\tif (note === this.rootNote) {\r\n\t\t\titem.className = 'root';\r\n\t\t}\r\n\t}, this);\r\n};\r\n\r\nScalear.Neck.prototype._showScale = function(scale) {\r\n\tthis._clear();\r\n\tthis.scale = (scale || this.scale).slice().map(function(item) {\r\n\t\treturn (item + this.rootNote) % Scalear.notes.length;\r\n\t}, this);\r\n\tthis.scale.forEach(function(note) {\r\n\t\tthis.showAllNotes(note);\r\n\t}, this);\r\n};\r\n\r\nScalear.Neck.prototype._clear = function() {\r\n\tthis._fingers.forEach(function(item, i) {\r\n\t\titem.map(function(finger, j) {\r\n\t\t\tfinger.hide().className = '';\r\n\t\t\tthis._labelsMap.get(finger).hide();\r\n\t\t}, this);\r\n\t}, this);\r\n};\r\n\r\nScalear.Neck.prototype._highlightNotes = function(note) {\r\n\tthis._fingers.forEach(function(item, i) {\r\n\t\titem.map(function(finger, j) {\r\n\t\t\tfinger.removeClass('highlighted');\r\n\t\t});\r\n\t});\r\n\tif (note !== undefined) {\r\n\t\tthis._notesMap.get(note).forEach(function(item) {\r\n\t\t\titem.addClass('highlighted');\r\n\t\t});\r\n\t}\r\n};","Scalear.scales = [{\r\n\tid: 0,\r\n\tname: 'Ionian',\r\n\tnotes: [0, 2, 4, 5, 7, 9, 11],\r\n\tgroup: 'scales'\r\n}, {\r\n\tid: 1,\r\n\tname: 'Dorian',\r\n\tnotes: [0, 2, 3, 5, 7, 9, 10],\r\n\tgroup: 'scales'\r\n}, {\r\n\tid: 2,\r\n\tname: 'Myxolidian',\r\n\tnotes: [0, 2, 4, 5, 7, 9, 10],\r\n\tgroup: 'scales'\r\n}, {\r\n\tname: 'Aeolian',\r\n\tid: 3,\r\n\tnotes: [0, 2, 3, 5, 7, 8, 10],\r\n\tgroup: 'scales'\r\n}, {\r\n\tid: 4,\r\n\tname: 'Melodic minor',\r\n\tnotes: [0, 2, 3, 5, 7, 9, 11],\r\n\tgroup: 'scales'\r\n}, {\r\n\tid: 5,\r\n\tname: 'Harmonic minor',\r\n\tnotes: [0, 2, 3, 5, 7, 8, 11],\r\n\tgroup: 'scales'\r\n}, {\r\n\tid: 6,\r\n\tname: 'Pentatonic major',\r\n\tnotes: [0, 2, 4, 7, 9],\r\n\tgroup: 'pentatonic'\r\n}, {\r\n\tid: 7,\r\n\tname: 'Pentatonic minor',\r\n\tnotes: [0, 3, 5, 7, 10],\r\n\tgroup: 'pentatonic'\r\n}, {\r\n\tid: 8,\r\n\tname: 'Pentatonic blues',\r\n\tnotes: [0, 3, 5, 6, 7, 10],\r\n\tgroup: 'pentatonic'\r\n}, {\r\n\tid: 9,\r\n\tname: 'Major chord',\r\n\tnotes: [0, 4, 7],\r\n\tgroup: 'chords'\r\n}, {\r\n\tid: 10,\r\n\tname: 'Major 7th chord',\r\n\tnotes: [0, 4, 7, 11],\r\n\tgroup: 'chords'\r\n}, {\r\n\tid: 11,\r\n\tname: 'Minor chord',\r\n\tnotes: [0, 3, 7],\r\n\tgroup: 'chords'\r\n}, {\r\n\tid: 12,\r\n\tname: 'Dim chord',\r\n\tnotes: [0, 3, 6],\r\n\tgroup: 'chords'\r\n}, {\r\n\tid: 13,\r\n\tname: 'Dim 7 chord',\r\n\tnotes: [0, 3, 6, 9],\r\n\tgroup: 'chords'\r\n}, {\r\n\tid: 14,\r\n\tname: 'Whole tone',\r\n\tnotes: [0, 2, 4, 6, 8, 10],\r\n\tgroup: 'scales'\r\n}, {\r\n\tid: 15,\r\n\tname: 'Chromatic',\r\n\tnotes: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11],\r\n\tgroup: 'scales'\r\n}, {\r\n\tid: 16,\r\n\tname: 'Maj Min Hybrid Pentatonic',\r\n\tnotes: [0, 2, 3, 4, 5, 7, 9, 10],\r\n\tgroup: 'pentatonic'\r\n}];\r\n\r\nScalear.scalesGrouped = [{\r\n\t\tname: 'Scales',\r\n\t\tgroup: 'scales',\r\n\t\toptions: function() {\r\n\t\t\treturn Scalear.scales.filter(function(item) {\r\n\t\t\t\treturn item.group === 'scales' ? item : undefined;\r\n\t\t\t});\r\n\r\n\t\t}()\r\n\t},\r\n\r\n\t{\r\n\t\tname: 'Pentatonic scales',\r\n\t\tgroup: 'pentatonic',\r\n\t\toptions: function() {\r\n\t\t\treturn Scalear.scales.filter(function(item) {\r\n\t\t\t\treturn item.group === 'pentatonic' ? item : undefined;\r\n\t\t\t});\r\n\t\t}()\r\n\t}, {\r\n\t\tname: 'Chords',\r\n\t\tgroup: 'chords',\r\n\t\toptions: function() {\r\n\t\t\treturn Scalear.scales.filter(function(item) {\r\n\t\t\t\treturn item.group === 'chords' ? item : undefined;\r\n\t\t\t});\r\n\t\t}()\r\n\t}\r\n];","Scalear.Select = function(selector, defaultValue, propertyName) {\r\n\tthis._selector = selector;\r\n\tthis._defaultValue = defaultValue;\r\n\tthis._propertyName = propertyName;\r\n\tthis._el = document.querySelector(this._selector);\r\n\r\n\treturn Mvc.View.call(this);\r\n};\r\n\r\nScalear.Select.prototype = Object.create(Mvc.View.prototype);\r\n\r\nScalear.Select.prototype.modelUpdate = function(model) {\r\n\tvar element, self = this;\r\n\r\n\tmodel.forEach(function(option, id) {\r\n\t\tif (!document.querySelector(self._selector + ' option[value=\"' + id + '\"]')) {\r\n\t\t\telement = document.createElement('option');\r\n\t\t\telement.value = id;\r\n\t\t\telement.innerHTML = self._propertyName ? option[self._propertyName] : option;\r\n\t\t\tif (id === self._defaultValue) {\r\n\t\t\t\telement.setAttribute('selected', 'selected');\r\n\t\t\t}\r\n\t\t\tself._el.appendChild(element);\r\n\t\t}\r\n\t});\r\n};","Scalear.SelectTwoLevel = function(selector, defaultValue, propertyName) {\r\n\treturn Scalear.Select.apply(this, arguments);\r\n};\r\n\r\nScalear.SelectTwoLevel.prototype = Object.create(Scalear.Select.prototype);\r\n\r\nScalear.SelectTwoLevel.prototype.modelUpdate = function(model) {\r\n\tvar element, optgroupElement, self = this, id;\r\n\r\n\tmodel.forEach(function(optgroup) {\r\n\t\toptgroupElement = document.createElement('optgroup');\r\n\t\toptgroupElement.label = optgroup.name;\r\n\t\tself._el.appendChild(optgroupElement);\r\n\r\n\t\toptgroup.options.forEach(function(option) {\r\n\t\t\tid = option.id;\r\n\t\t\tif (!document.querySelector(self._selector + ' option[value=\"' + id + '\"]')) {\r\n\t\t\t\telement = document.createElement('option');\r\n\t\t\t\telement.value = id;\r\n\t\t\t\telement.innerHTML = self._propertyName ? option[self._propertyName] : option;\r\n\t\t\t\tif (id === self._defaultValue) {\r\n\t\t\t\t\telement.setAttribute('selected', 'selected');\r\n\t\t\t\t}\r\n\t\t\t\toptgroupElement.appendChild(element);\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n};\r\n","Scalear.Switch = function(selector, defaultValue) {\r\n\tvar self = this;\r\n\tthis._selector = selector;\r\n\tthis._defaultValue = defaultValue;\r\n\tthis._el = document.querySelector(this._selector);\r\n\r\n\tthis._el.addEventListener('click', function() {\r\n\t\tthis.value = document.querySelector(self._selector + ' [selected=\"selected\"]').id === 'fender' ? 'gibson' : 'fender';\r\n\t\tvar event = new CustomEvent('change');\r\n\t\tthis.dispatchEvent(event);\r\n\t});\r\n\r\n\tthis._el.addEventListener('keydown', function(e) {\r\n\t\tif (e.keyCode === 13 || e.keyCode === 32) {\r\n\t\t\tthis.value = document.querySelector(self._selector + ' [selected=\"selected\"]').id === 'fender' ? 'gibson' : 'fender';\r\n\t\t\tvar event = new CustomEvent('change');\r\n\t\t\tthis.dispatchEvent(event);\r\n\t\t}\r\n\t});\r\n\r\n\treturn Mvc.View.call(this);\r\n};\r\n\r\nScalear.Switch.prototype = Object.create(Mvc.View.prototype);\r\n\r\nScalear.Switch.prototype.modelUpdate = function(model, changes) {\r\n\tchanges = changes || [{\r\n\t\tname: 'neckType'\r\n\t}];\r\n\r\n\tif (changes[0].name === 'neckType') {\r\n\t\tvar element, self = this;\r\n\r\n\t\tdocument.querySelector(self._selector + ' [selected=\"selected\"]').removeAttribute('selected');\r\n\r\n\t\tif (model.neckType === 'fender') {\r\n\t\t\tdocument.querySelector(this._selector + ' #fender').setAttribute('selected', 'selected');\r\n\t\t} else {\r\n\t\t\tdocument.querySelector(this._selector + ' #gibson').setAttribute('selected', 'selected');\r\n\t\t}\r\n\t}\r\n};"],"sourceRoot":"/source/"}